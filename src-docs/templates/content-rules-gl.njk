{% macro wcagVersion(id) %}
  {% if id === 'WCAG21' %}
    (new in WCAG 2.1)
  {% endif %}
  {% if id === 'WCAG22' %}
    (new in WCAG 2.2)
  {% endif %}
{% endmacro %}



          {% for gl in allGuidelines %}
            <h2 id="gl-{{gl.id}}" class="rules">{{gl.title}}</h2>
            {% for sc in gl.successCriteria %}
              {% if (sc.level > 1) or (sc.id === '1.4.6') or (sc.id === '2.5.5') %}
              <h3 id="sc-{{sc.id}}" class="rules">{{sc.title}} {{ wcagVersion(sc.wcagVersion) }}</h3>
              <table class="table table-striped" aria-labelledby="sc-{{gl.id}}">
                <thead>
                  <th>Rule ID</th>
                  <th>Summary</th>
                  <th>Level</th>
                  <th>Conformance</th>
                  <th>Scope</th>
                  <th colspan="4">Result Values</th>
                </thead>
                <tbody>
                {% for r in sc.rules %}
                  <tr id="{{r.htmlId}}">
                    <td>{{r.id}}</td>
                    <td><a href="{{r.filename | safe}}#gl">{{r.summary | safe}}</a></td>
                    <td>{{ r.wcag_level }}</td>
                    <td>{% if r.rule_required %}Required{% else %}<em>Recommended</em>{% endif %}</td>
                    <td>{{r.rule_scope}}</td>
                    <td>{% if r.has_failures %}<abbr title="Failures">F</abbr>{% endif %}</td>
                    <td>{% if r.has_manual_checks %}<abbr title="Manual Checks">MC</abbr>{% endif %}</td>
                    <td>{% if r.has_pass %}<abbr title="Passed">P</abbr>{% endif %}</td>
                    <td>{% if r.has_hidden %}<abbr title="Hidden">H</abbr>{% endif %}</td>
                  </tr>
                {% else %}
                  <tr>
                    <td colspan="5"><em>no rules at this time</em></td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>
              {% endif %}
            {% endfor %}
          {% endfor %}


